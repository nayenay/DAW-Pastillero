<!DOCTYPE html>
<html>
<head>
  <title>Login</title>
</head>
<body>
  <h2>Iniciar sesión</h2>
  <input type="email" id="email" placeholder="Correo"><br>
  <input type="password" id="password" placeholder="Contraseña"><br>
  <button id="loginBtn">Iniciar Sesión</button>
  <button id="registerBtn">Registrarse</button>
<!-- aquí está el bug, todo lo que está dentro de <script> no se está ejecutando -->
<!-- module indica que debe ser tratado como módulo de JavaScript, el src=main.js indica la ruta al archivo javascript esterno que tenga la logica principal -->
  <script type="module" src="main.js"> 
    import { auth } from './firebase-config.js';
    import { signInWithEmailAndPassword, createUserWithEmailAndPassword } from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js';

    document.getElementById("loginBtn").addEventListener("click", () => {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      signInWithEmailAndPassword(auth, email, password)
        .then(() => window.location.href = "registro.html")
        .catch(err => alert("Error al iniciar sesión: " + err.message));
    });

    document.getElementById("registerBtn").addEventListener("click", () => {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      createUserWithEmailAndPassword(auth, email, password)
        .then(() => alert("Registrado con éxito"))
        .catch(err => alert("Error al registrarse: " + err.message));
    });
  </script>
</body>
</html>
